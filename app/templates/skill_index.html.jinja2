{% if not request.headers.hx_request %}
{% extends "layout.html.jinja2" %}
{% endif %}
{% block title %}Skills | {% endblock %}
{% block content %}
<h1>Skills</h1>
<section>
    <form hx-get="/skills/categories" hx-target="#skillSelector" hx-swap="innerHTML" hx-trigger="change,load">
        <fieldset role="group">

            <select name="skillCategory" id="skillCategory" aria-label="Select category">
                {% for category_type, category_list in skill_cats %}
                <option value="" disabled>-- {{ category_type }} --</option>
                {% for category in category_list%}
                <option value="{{ category.nid }}" {% if selected_category==category.nid %}selected{% endif %}>{{
                    category.name }}</option>
                {% endfor %}
                {% endfor %}

            </select>
            <select name="skillSort" id="skillSort" class="sortSelect" aria-label="Select sort">
                <option value="alpha_inc" selected>Name (A-Z)</option>
                <option value="alpha_dec">Name (Z-A)</option>
            </select>
        </fieldset>
    </form>
</section>
<div id="skillSelector">
</div>
{% endblock content %}